import{f as g,r as C,h as E,D as k,E as B,i as e,j as p,m as x,w as s,p as o,k as I,t as S,G as l,H as c,n as M,l as t}from"./vendor.2217986f.js";import{A as u,M as d,r as R}from"./app.647b957d.js";const V={key:0,class:"alert alert-danger",role:"alert"},j={class:"badge bg-danger"},D=c(" Connexion "),O=g({setup(G){const m=[{label:"Identifiant",name:"username"},{label:"Mot de passe",name:"password",type:"password"}],a=C({password:null,username:null}),i=E("users",[u.LOGIN])[u.LOGIN],{code:_,error:f,msgError:N}=k("users",["code","error","msgError"]),n=B([d.SPINNER])[d.SPINNER];async function A(){n();try{await i(a.value),await R.push({name:"home"})}finally{n()}}return(T,r)=>{const b=e("AppBtn"),w=e("AppForm"),h=e("AppCard"),v=e("AppRow");return p(),x(v,null,{default:s(()=>[o(f)?(p(),I("div",V,[S("span",j,"Erreur "+l(o(_)),1),c(" "+l(o(N)),1)])):M("",!0),t(h,{class:"bg-blue col"},{default:s(()=>[t(w,{values:a.value,"onUpdate:values":r[0]||(r[0]=y=>a.value=y),fields:m,onSubmit:A},{buttons:s(()=>[t(b,{class:"float-end",type:"submit"},{default:s(()=>[D]),_:1})]),_:1},8,["values"])]),_:1})]),_:1})}}});export{O as default};
