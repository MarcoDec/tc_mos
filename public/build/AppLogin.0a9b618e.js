import{e as S,r as k,f as B,E as D,G as I,H as O,g as e,h as l,k as x,w as s,m as o,i as j,q as L,I as p,D as c,l as R,j as a,J as T,K as V}from"./vendor.c88dd02b.js";import{A as d,M as u,a as i,r as G}from"./app.c6af27d5.js";import H from"./AppModalError.f44553b7.js";const F={key:0,class:"alert alert-danger",role:"alert"},P={class:"badge bg-danger"},U=c(" Connexion "),z=S({setup(W){const m=[{label:"Identifiant",name:"username"},{label:"Mot de passe",name:"password",type:"password"}],t=k({password:null,username:null}),_=B("users",[d.LOGIN])[d.LOGIN],{code:f,error:w,msgError:A,showModal:h}=D("users",["code","error","msgError","showModal"]),M=I("users",[u.SHOW_MODAL])[u.SHOW_MODAL],r=O([i.SPINNER])[i.SPINNER];async function N(){r();try{await _(t.value),await G.push({name:"home"})}finally{r()}}function b(){M()}return(q,n)=>{const v=e("AppBtn"),y=e("AppForm"),E=e("AppCard"),g=e("AppRow");return l(),x(g,null,{default:s(()=>[o(w)?(l(),j("div",F,[L("span",P,"Erreur "+p(o(f)),1),c(" "+p(o(A)),1)])):R("",!0),a(E,{class:"bg-blue col"},{default:s(()=>[a(y,{values:t.value,"onUpdate:values":n[0]||(n[0]=C=>t.value=C),fields:m,onSubmit:N},{buttons:s(()=>[a(v,{class:"float-end",type:"submit"},{default:s(()=>[U]),_:1})]),_:1},8,["values"])]),_:1}),T(a(H,{onClose:b},null,512),[[V,o(h)]])]),_:1})}}});export{z as default};
