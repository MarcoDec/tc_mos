var D=Object.defineProperty;var O=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var I=(e,t,n)=>(O(e,typeof t!="symbol"?t+"":t,n),n);import{d as m,h as j,r as f,a as h,c as x,b as L,o,e as l,f as i,g as d,F as b,i as y,j as C,k as g,u as E,t as k,l as P,p as w,m as B,n as N,q as $,s as S,v as U,w as M,x as q,y as G,z as H,_ as W,A as z,B as J,C as K,D as Q}from"./vendor.744fbc74.js";const X="modulepreload",V={},Y="/build/",u=function(t,n){return!n||n.length===0?t():Promise.all(n.map(a=>{if(a=`${Y}${a}`,a in V)return;V[a]=!0;const p=a.endsWith(".css"),c=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const s=document.createElement("link");if(s.rel=p?"stylesheet":X,p||(s.as="script",s.crossOrigin=""),s.href=a,document.head.appendChild(s),p)return new Promise((r,_)=>{s.addEventListener("load",r),s.addEventListener("error",_)})})).then(()=>t())},Z=m(async()=>u(()=>import("./AppCard.9f950744.js"),["AppCard.9f950744.js","vendor.744fbc74.js"])),ee=m(async()=>u(()=>import("./AppForm.abd6105a.js"),["AppForm.abd6105a.js","vendor.744fbc74.js"])),te=m(async()=>u(()=>import("./AppFormGroup.1caeb085.js"),["AppFormGroup.1caeb085.js","vendor.744fbc74.js"])),ne=m(async()=>u(()=>import("./AppInput.f5c746ac.js"),["AppInput.f5c746ac.js","vendor.744fbc74.js"])),oe=m(async()=>u(()=>import("./AppLabel.8e246e72.js"),["AppLabel.8e246e72.js","vendor.744fbc74.js"])),se=m(async()=>u(()=>import("./AppCol.a009051e.js"),["AppCol.a009051e.js","vendor.744fbc74.js"])),ae=m(async()=>u(()=>import("./AppContainer.d7dd619d.js"),["AppContainer.d7dd619d.js","vendor.744fbc74.js"])),le=m(async()=>u(()=>import("./AppRow.53086630.js"),["AppRow.53086630.js","vendor.744fbc74.js"])),ce=m(async()=>u(()=>import("./AppModal.dd55718b.js"),["AppModal.dd55718b.js","vendor.744fbc74.js"])),re=m(async()=>u(()=>import("./AppNavbar.0a6d63c5.js"),["AppNavbar.0a6d63c5.js","vendor.744fbc74.js"])),ie=m(async()=>u(()=>import("./AppNavbarBrand.d56c6263.js"),["AppNavbarBrand.d56c6263.js","vendor.744fbc74.js"])),pe=m(async()=>u(()=>import("./AppAlert.ea0d7fa6.js"),["AppAlert.ea0d7fa6.js","vendor.744fbc74.js"])),ue=m(async()=>u(()=>import("./AppBtn.90fe0aae.js"),["AppBtn.90fe0aae.js","vendor.744fbc74.js"])),de=m(async()=>u(()=>import("./AppModalError.9987c496.js"),["AppModalError.9987c496.js","vendor.744fbc74.js"]));function _e(){return[j(f("AppModalError")),j(f("AppNavbar"),()=>j(f("AppNavbarBrand"),{href:"/",title:"T-Concept"})),j(f("AppContainer"),()=>j(f("RouterView")))]}var T=(e,t)=>{for(const[n,a]of t)e[n]=a;return e};const me={class:"addrow"},be={scope:"row",class:""},fe={class:"btn btn-icon btn-sm btn-success"},Ae=h({props:{fields:null},emits:["close"],setup(e,{emit:t}){const n=e,a=x(()=>n.fields.map(c=>{const s=L(c);return s.type==="boolean"&&(s.type="switch"),s}));function p(){t("close")}return(c,s)=>{const r=f("Fa"),_=f("AppInput");return o(),l("tr",me,[i("th",be,[d(r,{icon:"plus-circle"})]),i("td",null,[i("button",{class:"btn btn-icon btn-secondary btn-sm mx-2",onClick:p},[d(r,{icon:"filter"})]),i("button",fe,[d(r,{icon:"plus-circle"})])]),(o(!0),l(b,null,y(E(a),A=>(o(),l("td",{key:A.name},[A.ajoutVisible?(o(),C(_,{key:0,field:A},null,8,["field"])):g("",!0)]))),128))])}}});var he=T(Ae,[["__scopeId","data-v-59de1110"]]);const ve={class:"header"},ye={scope:"row",class:""},ke={class:"btngris"},ge={class:"btntimes"},Ee=h({props:{fields:null,user:null},emits:["open"],setup(e,{emit:t}){const n=e,a=x(()=>n.fields.map(c=>{const s=L(c);return s.type==="boolean"&&(s.type="grpbutton"),s}));function p(){t("open")}return(c,s)=>{const r=f("Fa"),_=f("AppInput");return o(),l("tr",ve,[i("th",ye,[d(r,{icon:"filter"})]),i("td",null,[e.user!=="reader"?(o(),l("button",{key:0,class:"btngris",onClick:p},[d(r,{icon:"plus-circle"})])):g("",!0),i("button",ke,[d(r,{icon:"search"})]),i("button",ge,[d(r,{icon:"times"})])]),(o(!0),l(b,null,y(E(a),A=>(o(),l("td",{key:A.name},[d(_,{field:A},null,8,["field"])]))),128))])}}});var Ce=T(Ee,[["__scopeId","data-v-7424cca1"]]);const je={key:2,class:"btn btn-danger btn-icon btn-sm mx-2"},Ie=h({props:{fields:null,item:null},emits:["ajoute","update"],setup(e,{emit:t}){const n=e;function a(){t("ajoute")}function p(){t("update",n.item)}return(c,s)=>{const r=f("Fa");return o(),l(b,null,[i("td",null,[e.item.ajout?(o(),l("button",{key:0,class:"btn btn-icon btn-primary btn-sm mx-2",onClick:a},[d(r,{icon:"pencil-alt"})])):g("",!0),e.item.update?(o(),l("button",{key:1,class:"btn btn-icon btn-secondary btn-sm mx-2",onClick:p},[d(r,{icon:"eye"})])):g("",!0),e.item.deletable?(o(),l("button",je,[d(r,{icon:"trash"})])):g("",!0)]),(o(!0),l(b,null,y(e.fields,_=>(o(),l("td",{key:_.name},k(e.item[_.name]),1))),128))],64)}}}),xe={class:"btn btn-icon btn-primary btn-sm mx-2"},Le=h({props:{fields:null},emits:["annuleAjout"],setup(e,{emit:t}){const n=e,a=x(()=>n.fields.map(c=>{const s=L(c);return s.type==="boolean"&&(s.type="switch"),s}));function p(){t("annuleAjout")}return(c,s)=>{const r=f("Fa"),_=f("AppInput");return o(),l(b,null,[i("td",null,[i("button",xe,[d(r,{icon:"check"})]),i("button",{class:"btn btn-danger btn-icon btn-sm",onClick:p},[d(r,{icon:"times"})])]),(o(!0),l(b,null,y(E(a),A=>(o(),l("td",{key:A.name},[A.updateVisible?(o(),C(_,{key:0,field:A},null,8,["field"])):g("",!0)]))),128))],64)}}}),Pe=h({props:{item:null,fields:null},emits:["update"],setup(e,{emit:t}){const n=P(!1);function a(){n.value=!0}function p(){n.value=!1}function c(s){t("update",s)}return(s,r)=>n.value?(o(),C(Le,{key:1,fields:e.fields,onAnnuleAjout:p},null,8,["fields"])):(o(),C(Ie,{key:0,fields:e.fields,item:e.item,onAjoute:a,onUpdate:c},null,8,["fields","item"]))}}),Te={scope:"row"},Re=h({props:{items:null,fields:null},emits:["update"],setup(e,{emit:t}){function n(a){t("update",a)}return(a,p)=>(o(!0),l(b,null,y(e.items,(c,s)=>(o(),l("tr",{key:s},[i("th",Te,k(s+1),1),d(Pe,{item:c,fields:e.fields,onUpdate:n},null,8,["item","fields"])]))),128))}}),$e=h({props:{fields:null,trier:null},emits:["trierAlphabet"],setup(e,{emit:t}){function n(){t("trierAlphabet")}return(a,p)=>e.trier==="both"?(o(!0),l(b,{key:0},y(e.fields,(c,s)=>(o(),l(b,{key:s},[c.trie?(o(),l("th",{key:0,scope:"col",class:"both sortable",onClick:n},k(c.label),1)):(o(),l("th",{key:1,scope:"col",class:"sortable",onClick:n},k(c.label),1))],64))),128)):e.trier==="asc"?(o(!0),l(b,{key:1},y(e.fields,(c,s)=>(o(),l(b,{key:s},[c.trie?(o(),l("th",{key:0,scope:"col",class:"asc sortable",onClick:n},k(c.label),1)):(o(),l("th",{key:1,scope:"col",class:"sortable",onClick:n},k(c.label),1))],64))),128)):(o(!0),l(b,{key:2},y(e.fields,(c,s)=>(o(),l(b,{key:s},[c.trie?(o(),l("th",{key:0,scope:"col",class:"desc sortable",onClick:n},k(c.label),1)):(o(),l("th",{key:1,scope:"col",class:"sortable",onClick:n},k(c.label),1))],64))),128))}}),Ve={class:"table-dark"},Fe=i("th",{scope:"col"},null,-1),De=i("th",{scope:"col"}," Actions ",-1),Oe=h({props:{fields:null},setup(e){const t=P("both");function n(){t.value==="both"?t.value="desc":t.value==="desc"?t.value="asc":t.value="both"}return(a,p)=>(o(),l("thead",Ve,[i("tr",null,[Fe,De,d($e,{trier:t.value,fields:e.fields,onTrierAlphabet:n},null,8,["trier","fields"])])]))}});const we=e=>(w("data-v-b1745964"),e=e(),B(),e),Be={class:"table table-bordered table-hover table-striped"},Ne=we(()=>i("tr",{class:"bg-dark"},[i("td",{colspan:"10"})],-1)),Se={key:0,"aria-label":"Page navigation example"},Ue=N('<ul class="pagination" data-v-b1745964><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>D\xE9but</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>Pr\xE9c.</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>1</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>2</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>3</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>Suiv.</a></li><li class="page-item" data-v-b1745964><a class="page-link" href="#" data-v-b1745964>Fin</a></li></ul>',1),Me=[Ue],qe=h({props:{fields:null,items:null,pag:null,user:null,min:null},emits:["update"],setup(e,{emit:t}){const n=e,a=x(()=>n.min?n.fields.filter(({min:_})=>_):n.fields);function p(_){t("update",_)}const c=P(!1);function s(){c.value=!0}function r(){c.value=!1}return(_,A)=>(o(),l(b,null,[i("table",Be,[d(Oe,{fields:E(a)},null,8,["fields"]),i("tbody",null,[c.value?(o(),C(he,{key:1,fields:E(a),onClose:r},null,8,["fields"])):(o(),C(Ce,{key:0,fields:E(a),user:e.user,onOpen:s},null,8,["fields","user"])),Ne,d(Re,{items:e.items,fields:E(a),onUpdate:p},null,8,["items","fields"])])]),e.pag?(o(),l("nav",Se,Me)):g("",!0)],64))}});var Ge=T(qe,[["__scopeId","data-v-b1745964"]]);class He{constructor(t){I(this,"api");this.api={context:t["@context"],id:t["@id"],type:t["@type"]}}}class We extends He{constructor(t){super(t);I(this,"name");I(this,"username");this.name=t.name,this.username=t.username}}async function ze(){try{return(await $.get("/api/users/current")).data}catch{return null}}const R=S({getters:{hasUser(e){return e.user!==null}},mutations:{connect(e,t){e.user=t}},state:{user:null},strict:!1});function Je(e){M(R,["connect"]).connect(new We(e))}function Ke(){return U(R,["hasUser"]).hasUser}const F=q({history:G(),routes:[{component:async()=>u(()=>import("./AppHome.4b2c4ca8.js"),["AppHome.4b2c4ca8.js","vendor.744fbc74.js"]),meta:{requiresAuth:!0},name:"home",path:"/"},{component:async()=>u(()=>import("./AppLogin.ae1f0877.js"),["AppLogin.ae1f0877.js","vendor.744fbc74.js"]),name:"login",path:"/login"},{component:async()=>u(()=>import("./AppOperationList.491a2a99.js"),["AppOperationList.491a2a99.js","vendor.744fbc74.js"]),name:"operationList",path:"/operation/list"},{component:async()=>u(()=>import("./AppCardableCollectionTable.627a9630.js"),["AppCardableCollectionTable.627a9630.js","AppCardableCollectionTable.148d037b.css","vendor.744fbc74.js"]),name:"societyList",path:"/society/list"}]});F.beforeEach(async(e,t,n)=>{if(e.matched.some(a=>a.meta.requiresAuth)&&!Ke().value){const a=await ze();if(a===null){n({name:"login"});return}Je(a)}n()});H.add(W);const v=z(_e);v.use(J,$).use(F).use(R);v.config.globalProperties.mitt=K();v.config.globalProperties.axios.interceptors.response.use(e=>e,e=>{var t;((t=e.response)==null?void 0:t.status)!==401&&v.config.globalProperties.mitt.emit("error",e)});v.provide("axios",v.config.globalProperties.axios).provide("mitt",v.config.globalProperties.mitt);v.component("AppAlert",pe).component("AppBtn",ue).component("AppCard",Z).component("AppCol",se).component("AppContainer",ae).component("AppForm",ee).component("AppFormGroup",te).component("AppInput",ne).component("AppLabel",oe).component("AppModal",ce).component("AppModalError",de).component("AppNavbar",re).component("AppNavbarBrand",ie).component("AppRow",le).component("AppCollectionTable",Ge).component("Fa",Q);v.mount("#vue");export{T as _,Je as c,F as r};
